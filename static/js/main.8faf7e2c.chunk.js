(this.webpackJsonpui=this.webpackJsonpui||[]).push([[0],{49:function(e,t,a){e.exports=a(87)},54:function(e,t,a){},87:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(27),c=a.n(s),o=(a(54),a(45)),l=a(20),i=a(8),m=a(9),u=a(11),p=a(10),d=a(12),h=a(23),g=a(21),v=a(110),b=a(88),f=a(89),E=a(90),y=a(6),k=a.n(y),j=a(14),O=a(15),w=a.n(O);function x(e){for(var t=e+"=",a=decodeURIComponent(document.cookie).split(";"),n=0;n<a.length;n++){for(var r=a[n];" "===r.charAt(0);)r=r.substring(1);if(0===r.indexOf(t))return r.substring(t.length,r.length)}return""}function S(e,t,a){var n=new Date;n.setTime(n.getTime()+24*a*60*60*1e3);var r="expires="+n.toUTCString();document.cookie=e+"="+t+";"+r+";path=/"}function C(){return r.a.createElement("div",null,"P\xe1gina no encontrada")}var N=a(91),A=a(92),_=a(93),I=a(94),T=a(95),D=a(25),H=a.n(D),M=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={meetups:[],loading:!0},a.componentDidMount=Object(j.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.get("https://meetapp-challenge.herokuapp.com/meetups",{headers:{Authorization:a.props.auth.getToken()}});case 2:t=e.sent,a.setState({meetups:t.data,loading:!1});case 4:case"end":return e.stop()}}),e)}))),a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.state,t=e.meetups;return e.loading?r.a.createElement(b.a,null,r.a.createElement(f.a,{md:12,xs:12,lg:12,className:"text-center",style:{marginTop:30}},r.a.createElement(E.a,{type:"grow",color:"primary"}))):r.a.createElement(b.a,null,t.map((function(e){return r.a.createElement(f.a,{sm:"6",className:"mt-5 mb-5"},r.a.createElement(N.a,{body:!0},r.a.createElement(A.a,null,e.title),r.a.createElement(_.a,null,r.a.createElement(I.a,null,e.status," ",H()(e.start_time).locale("es").calendar())),r.a.createElement(T.a,{tag:g.b,to:"/meetups/".concat(e.id)},"Ver m\xe1s")))})))}}]),t}(n.Component),F=a(13);function Y(e,t){return function(a){function n(){var t,a;Object(i.a)(this,n);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(a=Object(u.a)(this,(t=Object(p.a)(n)).call.apply(t,[this].concat(s)))).state={isLoading:!0,errors:{}},a.clearInput=function(e){a.setState({errors:Object(l.a)({},a.state.errors,Object(F.a)({},e,{invalid:!1,message:""}))})},a.clearErrors=function(){var t={};e.map((function(e){return t=Object(l.a)({},t,Object(F.a)({},e,{invalid:!1,message:""})),null})),a.setState({errors:t})},a.throwErrors=function(e){e.map((function(e){return a.setState({errors:Object(l.a)({},a.state.errors,Object(F.a)({},e.field,{invalid:!0,message:e.message}))}),null}))},a}return Object(d.a)(n,a),Object(m.a)(n,[{key:"componentDidMount",value:function(){var t={};e.map((function(e){return t=Object(l.a)({},t,Object(F.a)({},e,{invalid:!1,message:""})),null})),this.setState({errors:t},this.setState({isLoading:!1}))}},{key:"render",value:function(){var e=this.state,a=e.isLoading,n=e.errors;return!a&&r.a.createElement(t,Object.assign({validation:{errors:n,throwErrors:this.throwErrors,clearErrors:this.clearErrors,clearInput:this.clearInput}},this.props))}}]),n}(n.Component)}var z=a(96),U=a(97),B=Y(["password","email","name","lastname"],function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",name:"",lastname:"",password:"",loading:!1},a.handleSubmit=function(){var e=Object(j.a)(k.a.mark((function e(t){var n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a.setState({loading:!0}),e.next=4,w.a.post("https://meetapp-challenge.herokuapp.com/users",a.state);case 4:if(n=e.sent,a.setState({loading:!1}),"error"!==n.data.type){e.next=11;break}return a.props.validation.throwErrors(n.data.errors),e.abrupt("return");case 11:if("success"!==n.data.type){e.next=13;break}return e.abrupt("return",a.props.getSession(n.data.token));case 13:return e.abrupt("return");case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleChange=function(e){var t=e.target;a.props.validation.clearInput(t.name),a.setState(Object(F.a)({},t.name,t.value))},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props.prevStep,t=this.props.validation.errors,a=this.state,n=a.password,s=a.email,c=a.lastname,o=a.name;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"pt-5 pb-5"},r.a.createElement("img",{className:"rounded mx-auto d-block",src:"https://freelogovector.net/wp-content/uploads/logo-images-13/microsoft-cortana-logo-vector-73233.png",alt:"",style:{width:"70px",height:"70px"}}),r.a.createElement("p",{className:"text-center text-uppercase mt-3"},"Registrarme"),r.a.createElement("form",{noValidate:!0,className:"form text-center",onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-group input-group-md"},r.a.createElement(z.a,{type:"email",className:"form-control",value:s,onChange:this.handleChange,id:"email",invalid:t.email.invalid,name:"email","aria-describedby":"emailHelp",placeholder:"Enter email"}),t.email.invalid&&r.a.createElement(U.a,{color:"danger"},t.email.message)),r.a.createElement("div",{className:"form-group input-group-md"},r.a.createElement(z.a,{type:"name",className:"form-control",onChange:this.handleChange,invalid:t.name.invalid,value:o,id:"name",name:"name","aria-describedby":"nameHelp",placeholder:"Ingresar nombre"}),t.name.invalid&&r.a.createElement(U.a,{color:"danger"},t.name.message)),r.a.createElement("div",{className:"form-group input-group-md"},r.a.createElement(z.a,{type:"lastname",className:"form-control",invalid:t.lastname.invalid,value:c,id:"lastname",name:"lastname",onChange:this.handleChange,"aria-describedby":"lastnameHelp",placeholder:"Ingresar apellido"}),t.name.invalid&&r.a.createElement(U.a,{color:"danger"},t.lastname.message)),r.a.createElement("div",{className:"form-group input-group-md"},r.a.createElement(z.a,{type:"password",name:"password",invalid:t.password.invalid,onChange:this.handleChange,className:"form-control",value:n,id:"password",placeholder:"Contrase\xf1a"}),t.password.invalid&&r.a.createElement(U.a,{color:"danger"},t.password.message)),r.a.createElement(T.a,{className:"btn btn-lg btn-block btn-primary mt-4",type:"submit",disabled:this.state.loading},"Registrarme"))),r.a.createElement("p",{className:"text-center d-block mt-2 text-primary",style:{cursor:"pointer"},onClick:function(){return e()}},"Volver"))}}]),t}(n.Component)),L=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(s)))).state={step:1},a.displayScreen=function(){switch(a.state.step){case 1:return r.a.createElement(P,{login:a.props.auth.login,nextStep:a.nextStep});case 2:return r.a.createElement(B,{getSession:a.props.auth.getSession,nextStep:a.nextStep,prevStep:a.prevStep})}},a.nextStep=function(){a.setState({step:a.state.step+1})},a.prevStep=function(){a.setState({step:a.state.step-1})},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container mt-2"},r.a.createElement("div",{className:"row justify-content-center align-items-center text-center p-2"},r.a.createElement("div",{className:"m-1 col-sm-8 col-md-6 col-lg-4 shadow-sm p-3 mb-5 bg-white border rounded"},this.displayScreen()," ")))}}]),t}(n.Component),P=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:"",error:""},a.handleChange=function(e){var t=e.target;a.setState(Object(F.a)({error:""},t.name,t.value))},a.handleSubmit=function(){var e=Object(j.a)(k.a.mark((function e(t){var n,r,s,c;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=a.state,r=n.email,s=n.password,e.next=4,a.props.login({email:r,password:s});case 4:"error"===(c=e.sent).type&&a.setState({error:c.message});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props.nextStep,t=this.state,a=t.email,n=t.password,s=t.error;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"pt-5 pb-5"},r.a.createElement("img",{className:"rounded mx-auto d-block",src:"https://freelogovector.net/wp-content/uploads/logo-images-13/microsoft-cortana-logo-vector-73233.png",alt:"",style:{width:"70px",height:"70px"}}),r.a.createElement("p",{className:"text-center text-uppercase mt-3"},"Login"),r.a.createElement("form",{className:"form text-center",onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-group input-group-md"},r.a.createElement("input",{type:"email",className:"form-control",id:"email",name:"email",value:a,"aria-describedby":"emailHelp",onChange:this.handleChange,placeholder:"Enter email"}),r.a.createElement("div",{className:"invalid-feedback"},"Errors in email during form validation, also add .is-invalid class to the input fields")),r.a.createElement("div",{className:"form-group input-group-md"},r.a.createElement("input",{type:"password",name:"password",value:n,className:"form-control",onChange:this.handleChange,placeholder:"Password"}),r.a.createElement("div",{className:"invalid-feedback ".concat(s&&"d-block")},s)),r.a.createElement("button",{className:"btn btn-lg btn-block btn-primary mt-4",type:"submit"},"Login"))),r.a.createElement("p",{className:"text-center d-block mt-2 text-primary",style:{cursor:"pointer"},onClick:function(){return e()}},"\xbfCrear una cuenta?"))}}]),t}(n.Component),R=a(98),q=a(99),V=a(100),J=new Date;J.setDate(J.getDate());var W=J.getDate(),G=J.getMonth()+1,Q=J.getFullYear();W<10&&(W="0"+W),G<10&&(G="0"+G);var $=Y(["title","start_time","end_time","date"],function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={title:"",start_time:"12:00",end_time:"13:00",date:Q+"-"+G+"-"+W},a.handleSubmit=function(){var e=Object(j.a)(k.a.mark((function e(t){var n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a.setState({loading:!0}),e.next=4,w.a.post("https://meetapp-challenge.herokuapp.com/meetups",a.state,{headers:{Authorization:a.props.auth.getToken()}});case 4:if("error"!==(n=e.sent).data.type){e.next=9;break}return a.setState({loading:!1}),a.props.validation.throwErrors(n.data.errors),e.abrupt("return");case 9:return a.setState({redirect:"/meetups/"+n.data.id}),e.abrupt("return");case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleChange=function(e){var t=e.target;a.props.validation.clearInput(t.name),a.setState(Object(F.a)({},t.name,t.value))},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.state,t=e.title,a=e.start_time,n=e.end_time,s=e.date,c=e.redirect,o=this.props.validation.errors;return c?r.a.createElement(h.a,{to:c}):r.a.createElement("div",null,r.a.createElement(N.a,{body:!0},r.a.createElement(A.a,null,r.a.createElement("h2",null,"Crear Meetup")),r.a.createElement("hr",{className:"mt-4 mb-4"}),r.a.createElement(b.a,{form:!0},r.a.createElement(f.a,{md:8},r.a.createElement(R.a,null,r.a.createElement(q.a,{for:"exampleEmail"},"T\xedtulo"),r.a.createElement(z.a,{type:"title",name:"title",onChange:this.handleChange,value:t,placeholder:"Ingrese un t\xedtulo...",invalid:o.title.invalid}),o.title.invalid&&r.a.createElement(U.a,{color:"danger"},o.title.message)))),r.a.createElement("hr",{className:"mt-4 mb-4"}),r.a.createElement(b.a,null,r.a.createElement(f.a,{sm:12,md:6},r.a.createElement(R.a,null,r.a.createElement(q.a,{for:"exampleDate"},"Fecha de inicio"),r.a.createElement(z.a,{onChange:this.handleChange,type:"date",invalid:o.date.invalid,name:"date",value:s,placeholder:"Fecha de inicio"}),o.date.invalid&&r.a.createElement(U.a,{color:"danger"},o.date.message))),r.a.createElement(f.a,{sm:6,md:3},r.a.createElement(R.a,null,r.a.createElement(q.a,{for:"exampleTime"},"Hora Inicio"),r.a.createElement(z.a,{type:"time",onChange:this.handleChange,value:a,invalid:o.start_time.invalid,name:"start_time",placeholder:"Hora inicio"}),o.start_time.invalid&&r.a.createElement(U.a,{color:"danger"},o.start_time.message))),r.a.createElement(f.a,{sm:6,md:3},r.a.createElement(R.a,null,r.a.createElement(q.a,{for:"exampleTime"},"Hora Fin"),r.a.createElement(z.a,{type:"time",value:n,invalid:o.end_time.invalid,onChange:this.handleChange,name:"end_time",placeholder:"Hora fin"}),o.end_time.invalid&&r.a.createElement(U.a,{color:"danger"},o.end_time.message)))),r.a.createElement("hr",{className:"mt-4 mb-4"}),r.a.createElement(b.a,null,r.a.createElement(f.a,{className:"d-flex",style:{flexDirection:"column"}},r.a.createElement(T.a,{color:"primary",style:{width:"50%"},className:"m-auto",disabled:this.state.loading,onClick:this.handleSubmit},"Aceptar"),r.a.createElement(_.a,{className:"m-auto"},r.a.createElement("small",{className:"text-muted "},"El evento se crear\xe1 para que cualquier usuario pueda asistir.")))),r.a.createElement(V.a,{tag:g.b,to:"/"},"Volver")))}}]),t}(n.Component)),K=a(48),X=a(101),Z=a(102),ee=a(103),te=a(104),ae=a(105),ne=a(106),re=a(107),se=a(108);function ce(e){var t=e.children,a=e.session,s=e.logout,c=Object(n.useState)(!1),o=Object(K.a)(c,2),l=o[0],i=o[1];return"anonymous"===a?t:r.a.createElement(r.a.Fragment,null,r.a.createElement("header",null,r.a.createElement(X.a,{color:"light",light:!0,expand:"md"},r.a.createElement(Z.a,{tag:g.b,to:"/"},"MeetApp"),r.a.createElement(ee.a,{onClick:function(){return i(!l)}}),r.a.createElement(te.a,{isOpen:l,navbar:!0},r.a.createElement(ae.a,{className:"mr-auto",navbar:!0},r.a.createElement(ne.a,null,r.a.createElement(re.a,{tag:g.b,to:"/"},"Inicio")),"admin"===a.sector&&r.a.createElement(ne.a,null,r.a.createElement(re.a,{tag:g.b,to:"/meetups/new"},"Crear Meetup")),r.a.createElement(ne.a,null,r.a.createElement(re.a,{href:"https://github.com/reactstrap/reactstrap"},"GitHub"))),r.a.createElement(se.a,{style:{marginRight:"5rem"}},a.name),r.a.createElement(se.a,{style:{marginRight:"5rem",cursor:"pointer"},onClick:s},"Cerrar Sesi\xf3n")))),r.a.createElement("div",{className:"container mt-4"},t))}var oe,le=a(111),ie=a(109),me=(a(86),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(s)))).state={meetup:{},loading:!0,notFound:!1},a.handleInscribe=Object(j.a)(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({loadingInscribe:!0}),e.next=3,w.a.post("https://meetapp-challenge.herokuapp.com/meetups/".concat(a.state.meetup.id,"/inscriptions"),null,{headers:{Authorization:a.props.auth.getToken()}});case 3:e.sent,a.setState({meetup:Object(l.a)({},a.state.meetup,{loadingInscribe:!1,user_status:"inscripted"})});case 5:case"end":return e.stop()}}),e)}))),a.componentDidMount=Object(j.a)(k.a.mark((function e(){var t,n,r,s;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.auth.getToken(),n=a.props.match.params.meetup_id,r={},e.prev=3,e.next=6,w.a.get("https://meetapp-challenge.herokuapp.com/meetups/".concat(n),{headers:{Authorization:t}});case 6:r=(r=e.sent).data,e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(3),a.setState({notFound:!0}),e.abrupt("return");case 14:return e.next=16,w.a.get("https://cors-anywhere.herokuapp.com/https://api.darksky.net/forecast/e04a6cf97f5c67d1d77db985546d31f6/-34.603683,-58.381557,".concat(r.date,"T").concat(r.time,"?lang=es&units=auto"),{headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}});case 16:s=e.sent,r.temperature=s.data.currently.temperature,a.setState({meetup:r,loading:!1});case 19:case"end":return e.stop()}}),e,null,[[3,10]])}))),a.getBirras=function(){var e=a.state.meetup,t=0;return t=e.temperature<20?.75:e.temperature>=20&&e.temperature<=24?1:2,t*=e.inscripted_users,Math.ceil(t/6)},a.updateUserStatus=function(){var e=Object(j.a)(k.a.mark((function e(t){var n,r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.state.meetup,a.setState({loadingUpdate:!0}),e.next=4,w.a.put("https://meetapp-challenge.herokuapp.com/meetups/".concat(n.id,"/inscriptions"),{status:t},{headers:{Authorization:a.props.auth.getToken()}});case 4:r=e.sent,a.setState({loadingUpdate:!1}),"success"===r.data.type&&a.setState({meetup:Object(l.a)({},a.state.meetup,{user_status:"check-in"})});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.displayButton=function(){var e=a.state.meetup;switch(e.user_status){case null:return"finished"===e.status?r.a.createElement(le.a,{color:"warning",className:"text-center"},"\xa1El meetup ya ha terminado!"):r.a.createElement(T.a,{disabled:a.state.loadingInscribe,onClick:a.handleInscribe},"Inscribirme");case"inscripted":return"unstarted"===e.status?r.a.createElement(le.a,{color:"success",className:"text-center"},"Te has inscripto con \xe9xito"):r.a.createElement(T.a,{color:"success",onClick:function(){return a.updateUserStatus("check-in")}},"Check-In");case"check-in":return"inProgress"===e.status?r.a.createElement(le.a,{color:"success",className:"text-center"},"\xa1Que disfrutes el meetup!"):r.a.createElement(le.a,{color:"success",className:"text-center"},"El meetup ya termin\xf3, esperamos que lo hayas disfrutado")}},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props.auth.session,t=this.state,a=t.loading,n=t.meetup;return t.notFound?r.a.createElement("h1",null,"P\xe1gina no encontrada"):a?r.a.createElement(b.a,null,r.a.createElement(f.a,{md:12,xs:12,lg:12,className:"text-center",style:{marginTop:30}},r.a.createElement(E.a,{type:"grow",color:"primary"}))):r.a.createElement("div",null,r.a.createElement(N.a,{body:!0},r.a.createElement(A.a,null,r.a.createElement("h2",null,n.title," ")),r.a.createElement(_.a,null,r.a.createElement(I.a,null,r.a.createElement(ie.a,null,"Inicio:"," ",r.a.createElement("b",null,H()(n.start_time).locale("es").format("YYYY-MM-DD HH:ss"))," ",r.a.createElement("br",null),"Fin:"," ",r.a.createElement("b",null,H()(n.end_time).locale("es").format("YYYY-MM-DD HH:ss"))),r.a.createElement(ie.a,null,"Temperatura estimada: ",Math.trunc(n.temperature),"\xb0C"),r.a.createElement(ie.a,null,"Usuarios inscriptos: ",n.inscripted_users),"admin"===e.sector&&r.a.createElement(ie.a,null,"Cajas de birras necesarias: ",this.getBirras()))),this.displayButton()))}}]),t}(n.Component)),ue=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={isAuthenticated:!1},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.props.getSession()}},{key:"render",value:function(){var e=this,t=this.state.isAuthenticated,a=this.props.session,n=function(t){return function(a){return e.state.isAuthenticated?r.a.createElement(t,Object.assign({},a,{auth:Object(l.a)({},e.props)})):r.a.createElement(h.a,{to:"/login"})}};return"anonymous"===a||a.id?r.a.createElement(g.a,null,r.a.createElement(ce,{session:a,logout:this.props.logout},r.a.createElement(h.d,null,r.a.createElement(h.b,{exact:!0,path:"/",render:n(M)}),r.a.createElement(h.b,{exact:!0,path:"/meetups/new",render:n($)}),r.a.createElement(h.b,{exact:!0,path:"/meetups/:meetup_id",render:n(me)}),r.a.createElement((function(a){var n=a.component,s=Object(o.a)(a,["component"]);return r.a.createElement(h.b,Object.assign({},s,{render:function(a){return!1===t?r.a.createElement(n,Object.assign({},a,{auth:Object(l.a)({},e.props)})):r.a.createElement(h.a,{to:"/"})}}))}),{path:"/login",component:L}),r.a.createElement(h.b,{render:n(C)})))):r.a.createElement(v.a,null,r.a.createElement(b.a,null,r.a.createElement(f.a,{md:12,xs:12,lg:12,className:"text-center",style:{marginTop:30}},r.a.createElement(E.a,{type:"grow",color:"primary"}))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return"anonymous"===e.session?{isAuthenticated:!1}:{isAuthenticated:!0}}}]),t}(n.Component),pe=(oe=ue,function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={session:{},token:x("token")},a.getToken=function(){return a.state.token},a.getSession=function(){var e=Object(j.a)(k.a.mark((function e(){var t,n,r=arguments;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=r.length>0&&void 0!==r[0]?r[0]:null)&&(S("token",t,1),a.setState({token:t})),e.prev=2,e.next=5,w.a.get("https://meetapp-challenge.herokuapp.com/session",{headers:{Authorization:a.state.token}});case 5:n=e.sent,a.setState({session:n.data}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),a.setState({session:"anonymous"});case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}(),a.login=function(){var e=Object(j.a)(k.a.mark((function e(t){var n,r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({loading:!0}),e.prev=1,e.next=4,w.a.post("https://meetapp-challenge.herokuapp.com/login",t);case 4:return S("token",(n=e.sent).data.token,1),e.next=8,w.a.get("https://meetapp-challenge.herokuapp.com/session",{headers:{Authorization:n.data.token}});case 8:return r=e.sent,a.setState({session:r.data,loading:!1}),e.abrupt("return",{type:"success",message:"Ingres\xf3 con \xe9xito."});case 13:if(e.prev=13,e.t0=e.catch(1),401!==e.t0.request.status){e.next=18;break}return a.setState({loading:!1}),e.abrupt("return",{type:"error",message:e.t0.response.data.message});case 18:return e.abrupt("return",{type:"error",message:"Ha habido un error."});case 19:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}(),a.logout=function(){S("token",null),a.setState({session:"anonymous"})},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.state.session;return r.a.createElement(oe,Object.assign({session:e,getSession:this.getSession,login:this.login,logout:this.logout,getToken:this.getToken},this.props))}}]),t}(r.a.Component));var de=function(){return r.a.createElement(pe,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(de,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[49,1,2]]]);
//# sourceMappingURL=main.8faf7e2c.chunk.js.map